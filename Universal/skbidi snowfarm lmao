-- Minimal Auto Snowflake Teleporter (Press F to toggle)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Player = Players.LocalPlayer

-- Variables
local autoTeleportSnowflakes = false
local teleportConnection = nil

-- Function to find all snowflakes
local function getSnowflakes()
    local snowflakes = {}
    local generalFolder = workspace:FindFirstChild("#GAME") and 
                         workspace["#GAME"]:FindFirstChild("Folders") and 
                         workspace["#GAME"].Folders:FindFirstChild("GeneralFolder")
    
    if generalFolder then
        for _, item in ipairs(generalFolder:GetChildren()) do
            if item.Name == "SnowflakeModel" and item:IsA("Model") then
                local hitBox = item:FindFirstChild("HitBox")
                if hitBox then
                    table.insert(snowflakes, hitBox.Position)
                end
            end
        end
    end
    return snowflakes
end

-- Function to start/stop teleporting
local function toggleTeleport()
    autoTeleportSnowflakes = not autoTeleportSnowflakes
    
    if autoTeleportSnowflakes then
        print("Auto Teleport: ON")
        
        teleportConnection = RunService.Heartbeat:Connect(function()
            if not autoTeleportSnowflakes then
                teleportConnection:Disconnect()
                return
            end
            
            local character = Player.Character
            if not character then return end
            
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            if not rootPart then return end
            
            -- Get snowflakes and teleport
            local snowflakes = getSnowflakes()
            
            for _, position in ipairs(snowflakes) do
                if not autoTeleportSnowflakes then break end
                rootPart.CFrame = CFrame.new(position + Vector3.new(0, 1, 0))
                task.wait(0.001)
            end
            
            task.wait(0.01)
        end)
    else
        print("Auto Teleport: OFF")
        if teleportConnection then
            teleportConnection:Disconnect()
            teleportConnection = nil
        end
    end
end

-- Key bind (Press F to toggle)
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.F then
        toggleTeleport()
    end
end)

print("Snowflake Teleporter loaded! Press F to toggle auto-teleport.")
